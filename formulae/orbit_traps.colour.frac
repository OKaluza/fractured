//Orbit traps
real ~closest;

void ~reset()
{
  ~closest = 1000000.0;
}

void ~calc()
{
  real d = cabs(z);
  if (d < ~closest) ~closest = d;  
}

rgba ~result(in real repeat)
{
  return gradient(repeat * ~closest);
}
