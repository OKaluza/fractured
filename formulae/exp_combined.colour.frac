//Exponential smooth (combined mode)
real sum_d = 0.0;
real sum_c = 0.0;
void exp_combined_init()
{
}

void exp_combined_reset()
{
  sum_c = sum_d = 0.0;
}

void exp_combined_calc()
{
  //Exp. smooth (combined mode) calc section:
  sum_d += exp(-cabs(z));
  //Exp. smooth (Convergent)
  sum_c += exp(-1.0/cabs(zold - z));
}

real exp_combined_result()
{
  //Works if formula sets converged flag on convergent bailout
  if (converged) return sum_c;
  return sum_d;
}
